<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>

    <!--允许动态调用-->
    <constant name="struts.enable.DynamicMethodInvocation" value="true"/>
    <!--开发者模式-->
    <constant name="struts.devMode" value="true"/>

    <package name="default" namespace="/" extends="struts-default">
        <!--action-->
        <action name="test" class="com.his.surgery.action.testAction" method="test1">
            <result>/test.jsp</result>
        </action>
    </package>

    <package name="jsonx" namespace="/" extends="json-default">
        <action name="test2" class="com.his.surgery.action.testAction" method="test2">
            <result type="json">
                <param name="root">surgery</param>
                <!--<param name="excludeProperties">ana</param>-->
                <param name="includeProperties">name</param>
            </result>
        </action>
    </package>

    <!--病人接口-->
    <package name="patient" namespace="/patient" extends="json-default">
        <action name="*" class="com.his.surgery.action.PatientAction" method="{1}">
            <result type="json">
                <param name="includeProperties">patient.*,success,msg</param>
                <!--<param name="root">{patient,success,msg}</param>-->
            </result>
        </action>
    </package>

    <!--医生接口-->
    <package name="doctor" namespace="/doctor" extends="json-default">
        <action name="*" class="com.his.surgery.action.DoctorAction" method="{1}">
            <result type="json">
                <param name="includeProperties">doctor.*,success,msg</param>
            </result>
        </action>
    </package>

    <!--手术接口-->
    <package name="surgery" namespace="/surgery" extends="json-default">
        <!--添加请求-->
        <action name="add" class="com.his.surgery.action.SurgeryAction" method="request">
            <result type="json">
                <param name="includeProperties">success,msg</param>
            </result>
        </action>
        <action name="save" class="com.his.surgery.action.SurgeryAction" method="save">
            <result type="json">
                <param name="includeProperties">success,msg</param>
            </result>
        </action>
        <action name="dispose" class="com.his.surgery.action.SurgeryAction" method="dispose">
            <result type="json">
                <param name="includeProperties">success,msg</param>
            </result>
        </action>
        <action name="page" class="com.his.surgery.action.SurgeryAction" method="dispatch">
            <!--新建页面 add-->
            <!--修改页面 modify-->
            <result name="page">/jsp/surgery_apply.jsp</result>
            <result name="errorpage">/jsp/error.jsp</result>
        </action>
        <!--显示列表-->
        <action name="list" class="com.his.surgery.action.SurgeryAction" method="list">
            <result>/jsp/surgery_apply_list.jsp</result>
            <!--返回json方式 不采用-->
            <!--<result type="json">-->
                <!--<param name="root">mypage</param>-->
                <!--<param name="includeProperties">totalItems,totalPage,x,result</param>-->
                <!--<param name="excludeNullProperties">false</param>-->
            <!--</result>-->
            <!--验证字段失败后回到这里-->
            <!--<result name="input">/jsp/error.jsp</result>-->
        </action>
    </package>
</struts>
